@using DMB.Core.Evaluator
@inject ExpressionEvaluator Evaluator

<div class="el-wrap @Model.Class" style="@Model.Style" id="@Model.Id">
    <MudButton Variant="@Model.Variant"
               Color="@(ExpressionablePropertyResolver<Color>.Resolve(Model.Color, Evaluator))"
               StartIcon="@StartIcon"
               EndIcon="@EndIcon">
        @Model.Text.Evaluate(Evaluator)
    </MudButton>
</div>

@code {
    [Parameter, EditorRequired]
    public ButtonModelCore Model { get; set; } = default!;

    private string? StartIcon => MudIconResolver.Resolve(Model.StartIconKey);
    private string? EndIcon => MudIconResolver.Resolve(Model.EndIconKey);
}